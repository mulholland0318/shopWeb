webpackJsonp([25],{662:function(t,e,a){a(807);var i=a(1)(a(728),a(875),"data-v-1985ea49",null);t.exports=i.exports},728:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(73),n=a.n(i),s=a(72),r=a.n(s),o=a(61),c=a.n(o),l=a(202),m=a.n(l),d=a(201),p=a.n(d),u=a(71),g=a.n(u),h=a(137),f=a(52);e.default={name:"meal-detail",components:{Swiper:m.a,SwiperItem:p.a,CommentList:h.g,Scroller:g.a},data:function(){return{currentPage:1,isAll:!1}},computed:c()({},a.i(f.a)(["meal"])),activated:function(){this.meal.id!==this.$route.params.id&&(this.currentPage=1,this.isAll=!1,this.getMeal())},methods:{getMeal:function(){var t=this;return r()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setLoad(!0),e.next=3,t.$http.get("/webaction/findMealById").query({id:t.$route.params.id}).then(function(e){if(0===e.body.success){var a=e.body.content;a.quantity=1,t.$store.commit("MEAL",a)}}).catch(t.handleError);case 3:setTimeout(function(){return t.setLoad(!1)},800);case 4:case"end":return e.stop()}},e,t)}))()},getComment:function(){var t=this;this.$http.get("/webaction/findComments").query({currentPage:this.currentPage,id:this.$route.params.id}).then(function(e){if(0===e.body.success){var a=e.body.content;1===t.currentPage?t.meal.comments=a:t.meal.comments.concat(a),t.currentPage===e.body.totalPage&&(t.isAll=!0),t.currentPage+=1}}).catch(this.handleError)}}}},760:function(t,e,a){e=t.exports=a(659)(!1),e.push([t.i,".content[data-v-1985ea49]{bottom:49px;overflow-x:hidden}.index-swiper.locked .swiper-item[data-v-1985ea49]{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important}.info[data-v-1985ea49]{margin:18px 15px 0;border-bottom:1px dashed #d1d1d1;line-height:1}.des[data-v-1985ea49]{font-size:15px;color:#666}.price[data-v-1985ea49]{font-size:17px;color:#e75142;margin:13px 0;font-weight:500}.comment-wrap[data-v-1985ea49]{padding:15px}.comment-title[data-v-1985ea49]{font-size:17px;text-align:center;margin:px 0 12px}.order[data-v-1985ea49]{width:100%;display:block;line-height:49px;background-color:#e75142;color:#fff;font-size:17px;font-weight:500;text-align:center;position:absolute;bottom:0}.comment-title-tri[data-v-1985ea49]{width:7px;height:6px;margin-left:5px;margin-bottom:2px;vertical-align:baseline}.comment-more[data-v-1985ea49]{width:90px;height:35px;line-height:35px;text-align:center;border:1px solid #999;border-radius:2px;margin:20px auto;font-size:13px;color:#454545}.none[data-v-1985ea49]{font-size:13px}",""])},807:function(t,e,a){var i=a(760);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(660)("2a026e3a",i,!0)},875:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mdc meal-detail"},[i("scroller",{attrs:{"lock-x":"lock-x",height:t.isWeixin?"-0":"-46"}},[i("div",{staticClass:"content"},[i("swiper",{staticClass:"index-swiper",class:{locked:t.meal.imgArr&&1===t.meal.imgArr.length},attrs:{auto:!0,loop:!0,"aspect-ratio":5/9,"show-desc-mask":!1,"dots-position":"center","show-dots":t.meal.imgArr&&1!==t.meal.imgArr.length}},t._l(t.meal.imgArr,function(e,a){return i("swiper-item",{key:a,staticClass:"swiper-item"},[i("img",{staticClass:"swiper-item-img",attrs:{src:t.assets_base_uri+t.meal.img}})])})),i("div",{staticClass:"info"},[i("div",{staticClass:"des",domProps:{innerHTML:t._s(t.meal.description)}}),i("div",{staticClass:"price"},[t._v("￥"+t._s(t.meal.price))])]),i("div",{staticClass:"comment-wrap"},[i("div",{staticClass:"comment-title"},[i("span",[t._v("用户评价")]),i("img",{staticClass:"comment-title-tri",attrs:{src:a(208)}})]),t.meal.comments&&t.meal.comments.length?i("div",{staticClass:"comment-content"},[i("comment-list",{attrs:{comments:t.meal.comments}}),t.isAll?t._e():i("div",{staticClass:"comment-more",on:{click:t.getComment}},[t._v("查看更多评论")])],1):i("div",{staticClass:"none"},[t._v("暂无评价")])])],1)]),i("router-link",{staticClass:"order",attrs:{to:"/pay/meal?id="+t.meal.id}},[t._v("立即下单")])],1)},staticRenderFns:[]}}});